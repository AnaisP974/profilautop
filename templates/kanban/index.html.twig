{% extends 'base.html.twig' %}

{% block title %}Hello KanbanController!
{% endblock %}

{% block body %}
	<main class="d-flex no-wrap">
		{{ include('./components/partials/sidebar.html.twig') }}

		<section class="container">
			<div class="banner">
				<div class="img">
					<img src="./Images/website/baner.jpg" alt="baniére image">
				</div>
				<h1 class="text-center">Suivi de candidatures</h1>
			</div>

			
			<div id="csrf-token-container" data-csrf-token="{{ csrf_token('update_job_status') }}"></div>

			<div class="my-5 row justify-content-center">
				{# {% for job_offer in job_offers %} #}
				<div class="col-12 col-lg-2 border-end border-start" id="dropzone1">
					<h4 class="text-center">A postuler</h4>
					{% for job_offer in job_offers %}
						{% if job_offer.status is defined and job_offer.status == constant('App\\Enum\\JobStatus::A_POSTULER') %}
							<div class="card-kanban step1" id="draggableElement_{{ job_offer.id }}" draggable="true">
								{{ job_offer.company ?? "N/A" }}
							</div>
						{% endif %}
					{% endfor %}
				</div>

				<div class="col-12 col-lg-2 border-end border-start" id="dropzone2">
					<h4 class="text-center">En attente</h4>
					{% for job_offer in job_offers %}
						{% if job_offer.status is defined and job_offer.status == constant('App\\Enum\\JobStatus::EN_ATTENTE') %}
							<div class="card-kanban step2" id="draggableElement_{{ job_offer.id }}" draggable="true">
								{{ job_offer.company ?? "N/A" }}
							</div>
						{% endif %}
					{% endfor %}
				</div>

				<div class="col-12 col-lg-2 border-end border-start" id="dropzone3">
					<h4 class="text-center">Entrevue</h4>
					{% for job_offer in job_offers %}
						{% if job_offer.status is defined and job_offer.status == constant('App\\Enum\\JobStatus::ENTREVUE') %}
							<div class="card-kanban step3" id="draggableElement_{{ job_offer.id }}" draggable="true">
								{{ job_offer.company ?? "N/A" }}
							</div>
						{% endif %}
					{% endfor %}
				</div>

				<div class="col-12 col-lg-2 border-end border-start" id="dropzone4">
					<h4 class="text-center">Refusé</h4>
					{% for job_offer in job_offers %}
						{% if job_offer.status is defined and job_offer.status == constant('App\\Enum\\JobStatus::REFUSE') %}
							<div class="card-kanban step4" id="draggableElement_{{ job_offer.id }}" draggable="true">
								{{ job_offer.company ?? "N/A" }}
							</div>
						{% endif %}
					{% endfor %}
				</div>

				<div class="col-12 col-lg-2 border-end border-start" id="dropzone5">
					<h4 class="text-center">Accepté</h4>
					{% for job_offer in job_offers %}
						{% if job_offer.status is defined and job_offer.status == constant('App\\Enum\\JobStatus::ACCEPTE') %}
							<div class="card-kanban step5" id="draggableElement_{{ job_offer.id }}" draggable="true">
								{{ job_offer.company ?? "N/A" }}
							</div>
						{% endif %}
					{% endfor %}
				</div>
			</div>
		</section>


	</main>


{% endblock %}
