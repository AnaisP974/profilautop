{% extends 'base.html.twig' %}

{% block title %}Offre d'emploi
{% endblock %}

{% block body %}
	<main class="d-flex no-wrap">
		{{ include('./components/partials/sidebar.html.twig') }}

		<div class="container">
			<h1 class="text-center mt-4 deco">Offre d'emploi n°{{ jobOffer.id }}</h1>
			<h2 class="link-menu text-center mb-4">
			<a href="{{ path('app_dashboard') }}" class="unstyle">Dashboard</a> > <a href="{{ path('app_job_offer_index') }}" class="unstyle">Candidatures</a> > <span>Détail</span>
			</h2>
			<div class=" p-2 bg-body-tertiary border rounded-3 w-80">
				<div class="row justify-content-center">

					<div class="col-11 col-lg-5">
						<table class="table">
							<tbody>
								<tr>
									<th>Société</th>
									<td>{{ jobOffer.company ?? '' }}</td>
								</tr>
								<tr>
									<th>Lien</th>
									<td>
										{% if jobOffer.link is defined %}
											<a href="{{ jobOffer.link }}">voir l'annonce</a>
										{% endif %}
									</td>
								</tr>
								<tr>
									<th>Ville</th>
									<td>{{ jobOffer.location ?? '' }}</td>
								</tr>
								<tr>
									<th>Salaire</th>
									<td>{{ jobOffer.salary ?? '' }}</td>
								</tr>
								<tr>
									<th>Contact</th>
									<td>{{ jobOffer.contactPerson ?? '' }}</td>
								</tr>
								<tr>
									<th>Email</th>
									<td>{{ jobOffer.contactEmail ?? '' }}</td>
								</tr>
								<tr>
									<th>Date de candidature</th>
									<td>{{ jobOffer.applicationDate ? jobOffer.applicationDate|date('Y-m-d') : '' }}</td>
								</tr>
								<tr>
									<th>Status</th>
									<td>{{ jobOffer.status.value }}</td>
								</tr>
							</tbody>
						</table>
						<div class="my-4">
							<a href="{{ path('api_jobOffer_cover_letter', {'id': jobOffer.id}) }}" class="unstyle"><p><i class="bi bi-file-text"></i> Generer une lettre de motivation</p></a>
						</div>
					</div>
					<div class="col-11 col-lg-7">
						<div class="d-flex justify-content-between">
							<h2>{{ jobOffer.title }}</h2>
							<a href="{{ path('app_job_offer_edit', {'id': jobOffer.id}) }}" title="Modifier">
								<i class="bi bi-pencil text-primary"></i>
							</a>
						</div>

						<p>
							<strong>Description de l'offre :</strong>
						</p>
						<p>{{ jobOffer.description ?? 'N/A' }}</p>

					</div>
				</div>
			</div>
		</div>
	</main>
{% endblock %}
